<app-manager-nav-bar></app-manager-nav-bar>
<section class="vh-100">
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">

        <h1 class="text-black mb-4 d-flex justify-content-center">Emergency Blood Request</h1>

        <div class="card " style="border-radius: 15px;">
          <div class="card-body ">
            <div class="row align-items-center pt-4 pb-3">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0" style="font-size: 15px;">Report delivery:</h6>
              </div>
              <div class="col-md-9 pe-5">
                <mat-form-field appearance="fill">
                  <mat-label>*Select period of report delivery</mat-label>
                  <mat-select id="OptionDelivery" name="bloodTypes" [(ngModel)]="selectedOptionDelivery" matInput>
                    <mat-option id="monthD" value=0>Each Month</mat-option>
                    <mat-option id="6monthsD" value=1>Every 6 Months</mat-option>
                    <mat-option id="yearD" value=2>Every Year</mat-option>
                    <mat-option id="customD" value=3>Custom Range</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="container" *ngIf="selectedOptionDelivery == 3">


              <div class="row align-items-center pt-4 pb-3">
                <div class="col-md-3 ps-5">
                  <h6 class="mb-0" style="font-size: 15px;">Custom delivery range:</h6>
                </div>
                <div class="col-md-9 pe-5">
                  <mat-form-field appearance="fill">
                    <mat-label>Choose a date</mat-label>
                    <input id="StartDeliveryDate" matInput type="date"
                      [ngModel]="settings.startDeliveryDate | date:'yyyy-MM-dd'"
                      (ngModelChange)="settings.startDeliveryDate = $event">
                  </mat-form-field><br>
                  <mat-form-field appearance="fill">
                    <mat-label>Days(max 31)</mat-label>
                    <input id="DeliveryDays" type="number" min="0" max="31" [(ngModel)]="settings.deliveryDays"
                      matInput>
                  </mat-form-field><br>
                  <mat-form-field appearance="fill">
                    <mat-label>Months(max 11)</mat-label>
                    <input id="DeliveryMonths" type="number" min="0" max="11" [(ngModel)]="settings.deliveryMonths"
                      matInput>
                  </mat-form-field><br>
                  <mat-form-field appearance="fill">
                    <mat-label>Years</mat-label>
                    <input id="DeliveryYears" type="number" min="0" [(ngModel)]="settings.deliveryYears" matInput>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <hr class="mx-n3">
            <div class="row align-items-center pt-4 pb-3">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0" style="font-size: 15px;">Report Calculation:</h6>
              </div>
              <div class="col-md-9 pe-5">
                <mat-form-field appearance="fill">
                  <mat-label>*Select period for calculation blood consumption</mat-label>
                  <mat-select id="OptionCalculation" name="bloodTypes" [(ngModel)]="selectedOptionCalculation" matInput>
                    <mat-option id="monthC" value=0>For each month</mat-option>
                    <mat-option id="6monthsC" value=1>For every 6 months</mat-option>
                    <mat-option id="yearC" value=2>For every year</mat-option>
                    <mat-option id="customC" value=3>Custom Range</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="container" *ngIf="selectedOptionCalculation == 3">
              <div class="row align-items-center pt-4 pb-3">
                <div class="col-md-3 ps-5">
                  <h6 class="mb-0" style="font-size: 15px;">Custom calculation range:</h6>
                </div>
                <div class="col-md-9 pe-5">

                  <mat-form-field appearance="fill">
                    <mat-label>Days(max 31)</mat-label>
                    <input id="CalculationDays" type="number" min="0" max="31" [(ngModel)]="settings.calculationDays"
                      matInput>
                  </mat-form-field><br>
                  <mat-form-field appearance="fill">
                    <mat-label>Months(max 11)</mat-label>
                    <input id="CalculationMonths" type="number" min="0" max="11"
                      [(ngModel)]="settings.calculationMonths" matInput>
                  </mat-form-field><br>
                  <mat-form-field appearance="fill">
                    <mat-label>Years</mat-label>
                    <input id="CalculationYears" type="number" min="0" [(ngModel)]="settings.calculationYears" matInput>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>


        <hr class="mx-n3">
        <div class="px-5 py-4 d-flex ">
          <button id="Submit" mat-stroked-button (click)="updateSettings()">
            Submit
          </button>
        </div>


      </div>
    </div>
    </div>
  </div>
</section>